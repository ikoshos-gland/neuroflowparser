# Jina v4 RAG Pipeline Environment Configuration
# Copy this file to .env and configure your settings

# ============================================
# MODEL CONFIGURATION
# ============================================

# Jina Embeddings Model
JINA_MODEL_NAME=jinaai/jina-embeddings-v4
EMBEDDING_DIM=2048
MAX_SEQUENCE_LENGTH=32768
BATCH_SIZE=4

# Task type for embeddings (retrieval, similarity, code)
TASK_TYPE=retrieval

# Device selection (auto, cuda, cpu, mps)
DEVICE=auto

# ============================================
# API KEYS (Optional)
# ============================================

# Jina AI API Key (for API access instead of local model)
# JINA_API_KEY=your_jina_api_key_here

# OpenAI API Key (for benchmarking/comparison)
# OPENAI_API_KEY=your_openai_api_key_here

# ============================================
# PROCESSING CONFIGURATION
# ============================================

# PDF Processing
EXTRACT_IMAGES=true
EXTRACT_TABLES=true
USE_OCR=true
MAX_CHUNK_SIZE=1200
OVERLAP_SIZE=150
MIN_IMAGE_WIDTH=100
MIN_IMAGE_HEIGHT=100

# Language Detection
LANGUAGE_DETECTION=true
OCR_LANGUAGE=eng

# Quality Thresholds
QUALITY_THRESHOLD=0.7

# ============================================
# STORAGE CONFIGURATION
# ============================================

# Vector Store Type (faiss, chromadb)
VECTOR_STORE_TYPE=faiss

# Storage Directories
DOWNLOADS_DIR=../downloads
PIPELINE_SAVE_DIR=./saved_pipeline
PROCESSED_DATA_DIR=./processed
CACHE_DIR=./cache
LOGS_DIR=./logs

# ============================================
# API SERVER CONFIGURATION
# ============================================

# FastAPI Server Settings
API_HOST=127.0.0.1
API_PORT=8000
API_WORKERS=1

# CORS Settings
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080"]

# ============================================
# PERFORMANCE TUNING
# ============================================

# Memory Management
MAX_MEMORY_GB=8
ENABLE_CACHING=true
CACHE_SIZE_LIMIT=1000

# Parallel Processing
NUM_WORKERS=4
ENABLE_GPU_ACCELERATION=true

# Query Optimization
QUERY_TIMEOUT_SECONDS=30
MAX_RESULTS_PER_QUERY=100

# ============================================
# LOGGING CONFIGURATION
# ============================================

# Log Level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Log File Settings
LOG_TO_FILE=true
LOG_ROTATION=daily
MAX_LOG_FILES=7

# Enable Performance Logging
ENABLE_PERFORMANCE_LOGGING=true

# ============================================
# ADVANCED FEATURES
# ============================================

# Multimodal Processing
ENABLE_MULTIMODAL=true
IMAGE_PROCESSING_MAX_SIZE=2048

# Multi-Vector Embeddings
ENABLE_MULTI_VECTOR=false
MULTI_VECTOR_DIM=128

# Query Enhancement
ENABLE_QUERY_EXPANSION=false
ENABLE_QUERY_REWRITING=false

# Result Explanation
ENABLE_RESULT_EXPLANATION=true
EXPLANATION_DETAIL_LEVEL=medium

# ============================================
# MONITORING & ANALYTICS
# ============================================

# Enable Usage Analytics
ENABLE_ANALYTICS=true
ANALYTICS_RETENTION_DAYS=30

# Performance Monitoring
ENABLE_PERFORMANCE_MONITORING=true
MONITOR_QUERY_PERFORMANCE=true
MONITOR_EMBEDDING_PERFORMANCE=true

# Health Checks
ENABLE_HEALTH_CHECKS=true
HEALTH_CHECK_INTERVAL=300